#!/usr/bin/python

import sys

from clone import do_clone
from pull import convert_in_place
from pull import do_pull

command_table = {
        "clone": do_clone,
        "checkout": do_clone,
        "co": do_clone,
        "pull": do_pull,
        "update": do_pull,
        }

def usage():
    print "Usage: cvc2git <command> <options>"

def main():
    if len(sys.argv) == 1:
        convert_in_place()
        return

    if len(sys.argv) < 2:
        usage()
        return

    if sys.argv[1] not in command_table:
        print "Error: unknow command %s" % sys.argv[1]
        usage()
        return

    command_table[sys.argv[1]](*sys.argv[2:])

if __name__ == "__main__":
    main()
